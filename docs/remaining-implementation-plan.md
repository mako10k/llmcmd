# llmcmd 未実装機能実装計画

## 現在の状況（2025年7月28日）

### ✅ **実装完了項目**
- **Phase 1**: プロジェクト基盤構築 ✅
- **Phase 2**: OpenAI API統合 ✅ 
- **Phase 3**: ツール機能（read、write、pipe、exit）✅
- **Phase 4**: Built-inコマンド（cat、grep、sed、head、tail、sort、wc、tr）✅
- **統計機能**: 詳細統計表示（--stats フラグ）✅
- **GitHub公開**: オープンソースプロジェクトとして公開 ✅

### ❌ **未実装項目（優先度順）**

## 実装優先度 1: Built-inコマンド完成（高実用性）

### 1.1 cut コマンド（最高優先度）
**実用性**: ★★★★★ - CSVやTSVファイル処理に必須

**仕様**:
```bash
cut -d',' -f1,3    # カンマ区切りで1列目と3列目を抽出
cut -c1-10         # 1-10文字目を抽出
cut -f2            # デフォルト（タブ）区切りで2列目を抽出
```

**実装**:
- 列指定（-f）: フィールド番号範囲指定
- 文字指定（-c）: 文字位置範囲指定  
- 区切り文字指定（-d）: カスタム区切り文字
- 複数フィールド選択（1,3,5-7形式）

**期間**: 0.5日

### 1.2 uniq コマンド（高優先度）
**実用性**: ★★★★☆ - データ重複除去に頻繁に使用

**仕様**:
```bash
uniq              # 連続する重複行を削除
uniq -c           # 重複回数をカウント
uniq -d           # 重複行のみ表示
uniq -u           # 非重複行のみ表示
```

**実装**:
- 基本重複除去機能
- カウント表示（-c）
- 重複行表示（-d）
- 一意行表示（-u）

**期間**: 0.5日

### 1.3 nl コマンド（中優先度）
**実用性**: ★★★☆☆ - 行番号付けに便利

**仕様**:
```bash
nl                # 行番号を付ける
nl -b a           # 全行に番号付け
nl -s ": "        # 区切り文字指定
```

**実装**:
- 基本行番号付け
- 番号付け対象指定（-b）
- 区切り文字指定（-s）

**期間**: 0.3日

### 1.4 tee コマンド（中優先度）
**実用性**: ★★★☆☆ - パイプライン分岐に有用

**仕様**:
```bash
tee output.txt    # 標準出力とファイルに同時出力
tee -a file.txt   # ファイルに追記モード
```

**実装**:
- 標準出力とファイル同時書き込み
- 追記モード（-a）
- 複数ファイル対応

**期間**: 0.3日

### 1.5 rev コマンド（低優先度）
**実用性**: ★★☆☆☆ - 特殊用途向け

**仕様**:
```bash
rev               # 各行の文字を逆順にする
```

**実装**:
- 行単位文字反転
- Unicode対応

**期間**: 0.2日

**Built-inコマンド実装総期間**: 1.8日

## 実装優先度 2: 設定・環境変数サポート（中実用性）

### 2.1 環境変数による設定読み込み
**実用性**: ★★★★☆ - CI/CD環境での利用に重要

**実装項目**:
- `OPENAI_API_KEY`: OpenAI APIキー
- `LLMCMD_MODEL`: 使用モデル設定
- `LLMCMD_MAX_TOKENS`: 最大トークン数
- `LLMCMD_TEMPERATURE`: 温度設定
- `LLMCMD_TIMEOUT`: タイムアウト設定

**期間**: 0.5日

### 2.2 設定テンプレート生成
**実用性**: ★★★☆☆ - 初回利用者の利便性向上

**実装項目**:
- `llmcmd --init` コマンド
- `.llmcmdrc` テンプレート生成
- デフォルト値での設定ファイル作成

**期間**: 0.3日

## 実装優先度 3: エラーハンドリング強化（中実用性）

### 3.1 リトライメカニズム
**実用性**: ★★★★☆ - API制限対応に必須

**実装項目**:
- 指数バックオフリトライ
- レート制限エラー処理
- 最大リトライ回数設定
- リトライ状況のログ出力

**期間**: 0.7日

### 3.2 詳細エラー情報
**実用性**: ★★★☆☆ - トラブルシューティング向上

**実装項目**:
- エラーコード分類
- 具体的なエラーメッセージ
- 解決策の提示
- デバッグ情報の詳細化

**期間**: 0.5日

## 実装優先度 4: テスト充実（長期品質）

### 4.1 テストカバレッジ向上
**実用性**: ★★★☆☆ - 長期保守性向上

**現状**: 32.3% → **目標**: 80%+

**実装項目**:
- アプリケーションレイヤーテスト
- ツールエンジンテスト
- エラーケーステスト
- エンドツーエンドテスト

**期間**: 2日

### 4.2 統合テスト
**実用性**: ★★☆☆☆ - CI/CD品質保証

**実装項目**:
- OpenAI APIモックテスト
- ファイルI/Oテスト
- コマンドパイプラインテスト

**期間**: 1日

## 実装優先度 5: ドキュメント・配布（ユーザビリティ）

### 5.1 ユーザーガイド作成
**実用性**: ★★★☆☆ - 新規ユーザー獲得

**実装項目**:
- チュートリアル作成
- 実用例集
- トラブルシューティングガイド
- FAQ作成

**期間**: 1日

### 5.2 CI/CD & リリース自動化
**実用性**: ★★☆☆☆ - 継続開発効率化

**実装項目**:
- GitHub Actions設定
- 自動テスト実行
- クロスプラットフォームビルド
- リリース自動化

**期間**: 1日

## 📋 **推奨実装順序**

### Week 1: 高実用性機能完成
1. **Day 1**: `cut` コマンド実装（0.5日）+ `uniq` コマンド実装（0.5日）
2. **Day 2**: `nl`, `tee`, `rev` コマンド実装（0.8日）+ 環境変数サポート（0.5日）
3. **Day 3**: リトライメカニズム実装（0.7日）+ 設定テンプレート（0.3日）

### Week 2: 品質・保守性向上
4. **Day 4-5**: テストカバレッジ向上（2日）
5. **Day 6**: 統合テスト実装（1日）
6. **Day 7**: ドキュメント作成（1日）

### Week 3: 継続開発基盤
7. **Day 8**: CI/CD設定（1日）

## 🎯 **Version 1.0.0 リリース基準**

### 必須要件
- ✅ 全Built-inコマンド実装完了
- ✅ 環境変数サポート
- ✅ リトライメカニズム
- ✅ テストカバレッジ 80%+
- ✅ 基本ドキュメント完備

### 推奨要件
- CI/CD設定
- クロスプラットフォームバイナリ
- 詳細ユーザーガイド

## 📊 **実装効果予測**

| 機能 | 実装工数 | ユーザー満足度向上 | 保守性向上 |
|------|----------|-------------------|-----------|
| cut/uniq | 1日 | ★★★★★ | ★★★☆☆ |
| 環境変数 | 0.5日 | ★★★★☆ | ★★★☆☆ |
| リトライ | 0.7日 | ★★★★☆ | ★★★★☆ |
| テスト | 3日 | ★★☆☆☆ | ★★★★★ |
| ドキュメント | 1日 | ★★★☆☆ | ★★★☆☆ |

**次の実装ターゲット**: `cut` コマンド（最高実用性・最短実装時間）

この計画により、実用性の高い機能から順次実装し、Version 1.0.0の完成度を段階的に向上させることができます。
